webpackJsonp([0],{"9pV0":function(t,i){},NHnr:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a=e("7+uW"),o={name:"HelloWorld",mounted:function(){this.getImg(),this.AV()},data:function(){return{msg:"Welcome to Your Vue.js App",imgUrl:"",img:null,loading:!0,imgShow:!1,rgb:null}},methods:{AV:function(t){function i(){return t.apply(this,arguments)}return i.toString=function(){return t.toString()},i}(function(){AV.init({appId:"q5jefOUBfRK7nH0c2WffAelE-gzGzoHsz",appKey:"fUx4cMaaaRO5fuwDzR3P0gIi"})}),getImg:function(){var t=this,i=Math.floor(1001*Math.random()),e=document.getElementById("color");this.img=document.getElementById("img"),this.imgUrl="https://picsum.photos/580/600/?image="+i,this.loading=!0,this.imgShow=!1,this.img.onload=function(){t.loading=!1,t.imgShow=!0;var i=t.colorfulImg(t.img);t.rgb="rgb("+i.r+","+i.g+","+i.b+")",t.inverseRgb="rgb("+i.r+","+i.g+","+i.b+")",document.body.style.backgroundColor=t.rgb,e.style.background=t.rgb,e.style.color=t.rgb},this.img.onerror=function(){console.log("error"),t.getImg()}},colorfulImg:function(t){var i,e,a,o,r={r:0,g:0,b:0},s=document.createElement("canvas"),n=s.getContext&&s.getContext("2d"),l=-4,c={r:0,g:0,b:0},g=0;if(!n)return r;a=s.height=t.naturalHeight||t.offsetHeight||t.height,e=s.width=t.naturalWidth||t.offsetWidth||t.width,n.drawImage(t,0,0);try{i=n.getImageData(0,0,e,a)}catch(t){return alert("x"),r}for(o=i.data.length;(l+=20)<o;)++g,c.r+=i.data[l],c.g+=i.data[l+1],c.b+=i.data[l+2];return c.r=~~(c.r/g),c.g=~~(c.g/g),c.b=~~(c.b/g),c},saveImg:function(){var t=this,i=document.getElementById("color");this.loading=!0,this.imgShow=!1;var e=document.getElementById("photoFileUpload");if(e.files.length>0){var a=e.files[0];new AV.File("avatar.jpg",a).save().then(function(e){console.log(e.url()),t.img.src=e.url(),t.img.onload=function(){var e=t.colorfulImg(t.img);t.rgb="rgb("+e.r+","+e.g+","+e.b+")",document.body.style.backgroundColor=t.rgb,i.style.background=t.rgb,i.style.color=t.rgb,t.loading=!1,t.imgShow=!0},t.img.onerror=function(){console.log("error"),t.getImg()}},function(t){console.error(t)})}}}},r={render:function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"homePage"},[e("div",{staticClass:"imgBox"},[e("img",{directives:[{name:"show",rawName:"v-show",value:t.imgShow,expression:"imgShow"}],staticClass:"img",attrs:{src:t.imgUrl,id:"img",crossorigin:"anonymous"},on:{click:t.getImg}}),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}],staticClass:"loader"},[t._m(0)])]),t._v(" "),e("div",{staticClass:"color"},[e("a",{attrs:{href:"https://github.com/hubingliang/colorfulImg",target:"_blank"}},[e("svg",{staticClass:"icon",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-GitHub"}})])]),t._v(" "),e("img",{staticClass:"author",attrs:{src:"https://i.loli.net/2018/03/27/5aba29b5b97ae.png",alt:""}}),t._v(" "),e("div",{staticClass:"title"},[t._v("ColorfulImg")]),t._v(" "),e("div",{staticClass:"describe"},[e("svg",{staticClass:"left",attrs:{"aria-hidden":"true"}},[e("use",{attrs:{"xlink:href":"#icon-left"}})]),t._v("Click it to get the main color from the picture")]),t._v(" "),e("div",{staticClass:"Dominant"},[t._v("Dominant Color :")]),t._v(" "),e("div",{staticClass:"colorBox"},[e("div",{attrs:{id:"color"}}),t._v(" "),e("div",{staticClass:"rgb"},[t._v(t._s(t.rgb))])]),t._v(" "),e("div",{staticClass:"imgFile"},[e("input",{attrs:{type:"file",id:"photoFileUpload"},on:{change:t.saveImg}}),t._v(" "),e("div",{staticClass:"saveImgButton",attrs:{id:"dropArea"}},[t._v("UP AN IMAGE HERE")])])])])},staticRenderFns:[function(){var t=this.$createElement,i=this._self._c||t;return i("div",{staticClass:"loader-inner"},[i("div",{staticClass:"loader-line-wrap"},[i("div",{staticClass:"loader-line"})]),this._v(" "),i("div",{staticClass:"loader-line-wrap"},[i("div",{staticClass:"loader-line"})]),this._v(" "),i("div",{staticClass:"loader-line-wrap"},[i("div",{staticClass:"loader-line"})]),this._v(" "),i("div",{staticClass:"loader-line-wrap"},[i("div",{staticClass:"loader-line"})]),this._v(" "),i("div",{staticClass:"loader-line-wrap"},[i("div",{staticClass:"loader-line"})])])}]};var s={name:"App",components:{HomePage:e("VU/8")(o,r,!1,function(t){e("9pV0")},"data-v-916407c2",null).exports}},n={render:function(){var t=this.$createElement,i=this._self._c||t;return i("div",{attrs:{id:"app"}},[i("HomePage")],1)},staticRenderFns:[]};var l=e("VU/8")(s,n,!1,function(t){e("vrkT")},null,null).exports;e("Q0/0");a.a.config.productionTip=!1,new a.a({el:"#app",components:{App:l},template:"<App/>"})},"Q0/0":function(t,i){},vrkT:function(t,i){}},["NHnr"]);
//# sourceMappingURL=app.073f0fd84a78b2db5b9d.js.map